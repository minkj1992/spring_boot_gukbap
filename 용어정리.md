# 키워드 정리

## JPA
- `@Repository`
- `@PersistenceContext`
- `EntityManagerFactory`
- `EntityManager`
- `@DiscriminatorValue("B")`
    - 일반적으로 `SINGLE_TABLE` 전략에서 해당 테이블에 `type column`으로 저장된다.
    - 엔티티 저장시 구분column에 입력할 값을 지정한다.
- `@Column(name = "member_id")`
    - DB 칼럼명
    - 엔티티는 클래스로 타입을 유추할 수 있지만, DB 테이블은 타입이 없다.
- `@Embedded Address address`
    - `Address`라는 클래스에 여러 필드들을 추가해주고, 이를 set 시켜주는 생성자만을 지닌 클래스를 생성하면 이는 `@Embeddable`로 설정할 수있다. (
    - 이를 통해서 도로명, 도시, zipcode등을 하나의 변수로 사용가능하다.
- `@OneToMany(mappedBy = "member")`
    - mappdedBy는 연관관계 '을'이 사용
    - mappdedBy에 들어가는 인자는, 연관관계주인이 가지고 있는 필드명 (fk가 된다 DB상)
- `@JoinColumn(name = "member_id")`
    - FK 부여, 연관관계의 주인
- `@Table(name = "orders")`
    - 테이블 이름
- `@ManyToOne(fetch = FetchType.LAZY)`
    - 즉시로딩 vs 지연로딩
        - `Eager(즉시)`: Entity를 조회할 때 연관된 엔티티도 함께 조회한다.
        - `LAZY(지연)`: Entity를 조회할 때 연관된 엔티티를 실제 사용할 때 조회한다. 참조하지 않은 관계있는 Entity들은 지연로딩 엔티티를 초기화할때 생성해준뒤, 데이터가 필요한 순간이 되어서야 DB를 조회하여 `proxy object`를 초기화한다. 단 `컬렉션`은 컬렉션 래퍼가 지연로딩을 처리해준다. 
- `@OneToOne(cascade = CascadeType.ALL)`
    - 부모가 Create, Delte시 영속성컨텍스트에 넣거나 뺴준다.
    - 자식은 @Entity 타입을 써주어야 할까?

- `@Enumerated(EnumType.STRING)`
    - EnumType은 기본적으로 order를 취하지만, 이는 중간에 요소가 insert될 경우 잘못된 개체에 접근하게 되는 문제가 일어난다.

## Test
- `@RunWith(SpringRunner.class)`: `JUnit`가 테스트때 실행시킬 `class`를 명시해 준다.

- `@SpringBootTest`: 스프링부트 어플리케이션 테스트에 필요한 거의 모든 의존성을 받아온다.